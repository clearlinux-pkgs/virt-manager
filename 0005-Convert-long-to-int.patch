From 95c695d7744e02637c07051ef28dce04164a0f7b Mon Sep 17 00:00:00 2001
From: Radostin Stoyanov <rstoyanov1@gmail.com>
Date: Wed, 11 Oct 2017 12:35:51 +0100
Subject: [PATCH 05/45] Convert long to int

- Python 2 only
k = 9223372036854775808L

- Python 2 and 3:
k = 9223372036854775808

See http://python-future.org/compatible_idioms.html#long-integers
---
 virtManager/connect.py  | 2 +-
 virtinst/diskbackend.py | 4 ++--
 virtinst/progress.py    | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/virtManager/connect.py b/virtManager/connect.py
index 1de09f9f..bbef0a08 100644
--- a/virtManager/connect.py
+++ b/virtManager/connect.py
@@ -467,7 +467,7 @@ class vmmConnect(vmmGObjectUI):
         if host.startswith("linux-"):
             tmphost = host[6:]
             try:
-                long(tmphost)
+                int(tmphost)
                 host = ""
             except ValueError:
                 pass
diff --git a/virtinst/diskbackend.py b/virtinst/diskbackend.py
index a11b413a..01c67a42 100644
--- a/virtinst/diskbackend.py
+++ b/virtinst/diskbackend.py
@@ -391,7 +391,7 @@ class CloneStorageCreator(_StorageCreator):
         else:
             vfs = os.statvfs(os.path.dirname(self._path))
             avail = vfs.f_frsize * vfs.f_bavail
-        need = long(self._size * 1024 * 1024 * 1024)
+            need = int(self._size) * 1024 * 1024 * 1024
         if need > avail:
             if self._sparse:
                 msg = _("The filesystem will not have enough free space"
@@ -411,7 +411,7 @@ class CloneStorageCreator(_StorageCreator):
         text = (_("Cloning %(srcfile)s") %
                 {'srcfile': os.path.basename(self._input_path)})
 
-        size_bytes = long(self.get_size() * 1024 * 1024 * 1024)
+        size_bytes = int(self.get_size()) * 1024 * 1024 * 1024
         progresscb.start(filename=self._output_path, size=size_bytes,
                          text=text)
 
diff --git a/virtinst/progress.py b/virtinst/progress.py
index 1cab0e8c..779b3711 100644
--- a/virtinst/progress.py
+++ b/virtinst/progress.py
@@ -481,7 +481,7 @@ def format_number(number, SI=0, space=' '):
         depth  = depth + 1
         number = number / step
 
-    if isinstance(number, int) or isinstance(number, long):
+    if isinstance(number, int):
         # it's an int or a long, which means it didn't get divided,
         # which means it's already short enough
         fmt = '%i%s%s'
-- 
2.16.2

